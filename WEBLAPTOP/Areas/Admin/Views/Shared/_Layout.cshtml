<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewBag.Title Trang quản trị</title>

    @Styles.Render("~/Content/css")

    <link rel="stylesheet" type="text/css" href="~/Content/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/all.min.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" type="text/css" href="~/Content/jquery-confirm.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Areas/css/main.css" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <script src="@Url.Content("~/Scripts/jquery-3.7.0.min.js")"></script>
    <script src="@Url.Content("~/Scripts/bootstrap.bundle.min.js")"></script>
    <script src="@Url.Content("~/Scripts/jquery-confirm.min.js")"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    @Scripts.Render("~/bundles/modernizr")
</head>
<body onload="time()" class="app sidebar-mini rtl">

    <header class="app-header">
        <a class="app-sidebar__toggle" href="#" data-bs-toggle="sidebar" aria-label="Hide Sidebar"></a>
        <ul class="app-nav">
            <div id="clock" style="color:white; margin-right:20px; text-align:center; margin-top:15px"></div>
            <li>
                <a class="app-nav__item" href="@Url.Action("Index", "Login", new { area = "" })">
                    <i class="fa fa-sign-in"></i>
                </a>
            </li>
        </ul>
    </header>

    <div class="app-sidebar__overlay" data-bs-toggle="sidebar"></div>
    <aside class="app-sidebar">
        <div class="app-sidebar__user">
            <img src="@Url.Content("~/Areas/Image/logodarkthestore.jpg")" class="app-sidebar__user-avatar" width="50px" alt="User Image" />
            <div>
                <p class="app-sidebar__user-name"><b>Admin</b></p>
                <p class="app-sidebar__user-designation">Chào mừng bạn trở lại</p>
            </div>
        </div>
        <hr />
        <ul class="app-menu">
            <li>
                <a class="app-menu__item" href="@Url.Action("Index", "DANHMUCs")">
                    <i class="app-menu__icon fa fa-bars"></i>
                    <span class="app-menu__label">Quản lý danh mục</span>
                </a>
            </li>
            <li>
                <a class="app-menu__item" href="@Url.Action("Index", "SANPHAMs")">
                    <i class="app-menu__icon fa fa-archive"></i>
                    <span class="app-menu__label">Quản lý sản phẩm</span>
                </a>
            </li>
            <li>
                <a class="app-menu__item" href="@Url.Action("Index", "DONHANGs")">
                    <i class="app-menu__icon fa fa-list-alt"></i>
                    <span class="app-menu__label">Quản lý đơn hàng</span>
                </a>
            </li>
            <li>
                <a class="app-menu__item" href="@Url.Action("Index", "KHACHHANGs")">
                    <i class="app-menu__icon fa fa-users"></i>
                    <span class="app-menu__label">Quản lý khách hàng</span>
                </a>
            </li>
            <li>
                <a class="app-menu__item" href="@Url.Action("Index", "KHUYENMAIs")">
                    <i class="app-menu__icon fa fa-ticket"></i>
                    <span class="app-menu__label">Quản lý khuyến mại</span>
                </a>
            </li>
            <li>
                <a class="app-menu__item" href="@Url.Action("Index","Home")">
                    <i class="app-menu__icon fa fa-pie-chart"></i>
                    <span class="app-menu__label">Thống kê báo cáo</span>
                </a>
            </li>

            <li>
                <a class="app-menu__item" href="@Url.Action("Index","SystemSettings")">
                    <i class="app-menu__icon fa fa-cog"></i>
                    <span class="app-menu__label">Cài đặt hệ thống</span>
                </a>
            </li>
        </ul>
    </aside>

    <main class="container-fluid" style="margin-left: 0; padding-left: 0;">
        @RenderBody()
    </main>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    @RenderSection("scripts", required: false)

    <script>
        function time() {
            var today = new Date();
            var weekday = ["Chủ Nhật", "Thứ Hai", "Thứ Ba", "Thứ Tư", "Thứ Năm", "Thứ Sáu", "Thứ Bảy"];
            var day = weekday[today.getDay()];
            var dd = today.getDate().toString().padStart(2, '0');
            var mm = (today.getMonth() + 1).toString().padStart(2, '0');
            var yyyy = today.getFullYear();
            var h = today.getHours().toString().padStart(2, '0');
            var m = today.getMinutes().toString().padStart(2, '0');
            var s = today.getSeconds().toString().padStart(2, '0');
            var nowTime = `${h} giờ ${m} phút ${s} giây`;
            var todayText = `${day}, ${dd}/${mm}/${yyyy}`;
            document.getElementById("clock").innerHTML = `<span class="date">${todayText} - ${nowTime}</span>`;
            setTimeout(time, 1000);
        }
    </script>
    <script>
        // Hàm này chạy ngay lập tức ở mọi trang để kiểm tra cài đặt cũ
        (function () {
            if (localStorage.getItem('theme') === 'dark') {
                document.body.classList.add('dark-mode');
            }
        })();
    </script>
</body>
<style>
    /* =========================================
   DARK MODE PRO (Giao diện Tối Chuyên nghiệp)
   ========================================= */

    /* 1. Nền chính & Chữ */
    body.dark-mode {
        background-color: #1a202c; /* Xám xanh đậm (dịu mắt hơn đen) */
        color: #cbd5e0; /* Trắng đục (không bị chói) */
    }

        body.dark-mode .app-content {
            background-color: #1a202c;
        }

        /* 2. Khung chứa nội dung (Tile) */
        body.dark-mode .tile {
            background-color: #2d3748; /* Nổi bật hơn nền một chút */
            color: #e2e8f0;
            border: 1px solid #4a5568; /* Viền mỏng tinh tế */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        /* 3. Tiêu đề & Breadcrumb */
        body.dark-mode .app-title {
            background-color: #2d3748;
            border-bottom: 1px solid #4a5568;
        }

            body.dark-mode .app-title h1,
            body.dark-mode .app-title ul .breadcrumb-item {
                color: #fff;
            }

        body.dark-mode .breadcrumb-item a {
            color: #63b3ed; /* Màu xanh dương sáng cho link */
        }

        /* 4. Bảng dữ liệu (Table) - Phần khó đẹp nhất */
        body.dark-mode .table {
            color: #cbd5e0;
            border-color: #4a5568;
        }

            body.dark-mode .table thead th {
                background-color: #1a202c; /* Đầu bảng tối hơn */
                color: #fff;
                border-bottom: 2px solid #4a5568;
                border-top: none;
            }

        body.dark-mode .table-bordered td,
        body.dark-mode .table-bordered th {
            border: 1px solid #4a5568; /* Viền xám xanh */
        }

        body.dark-mode .table-hover tbody tr:hover {
            background-color: #4a5568; /* Màu khi di chuột vào dòng */
            color: #fff;
        }

        /* 5. Form nhập liệu (Input, Select) */
        body.dark-mode .form-control {
            background-color: #171923; /* Nền input rất tối */
            border: 1px solid #4a5568;
            color: #fff;
        }

            body.dark-mode .form-control:focus {
                background-color: #171923;
                border-color: #63b3ed; /* Viền sáng khi focus */
                box-shadow: 0 0 0 0.2rem rgba(99, 179, 237, 0.25);
            }
            /* Input bị disabled (như ID) */
            body.dark-mode .form-control[readonly],
            body.dark-mode .form-control[disabled] {
                background-color: #2d3748;
                opacity: 0.6;
            }

        /* 6. Sidebar (Menu bên trái) - Nếu cần */
        body.dark-mode .app-sidebar {
            background-color: #1a202c;
            box-shadow: 2px 0 5px rgba(0,0,0,0.2);
        }

        /* 7. Header (Thanh trên cùng) */
        body.dark-mode .app-header {
            background-color: #234e52; /* Xanh rêu tối hoặc giữ nguyên màu gốc tùy bạn */
        }

        /* 8. Các nút bấm (Button) */
        body.dark-mode .btn-default {
            background-color: #4a5568;
            color: #fff;
            border: none;
        }
</style>
</html>