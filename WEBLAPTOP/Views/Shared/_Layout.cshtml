<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    @* @Styles.Render("~/Content/css") *@
    @Scripts.Render("~/bundles/modernizr")

    <link rel="stylesheet" href="@Url.Content("~/Content/new_css/stylehome.css")" />
    <link rel="icon" type="image/png" href="~/Images/Logo/logodarkthestorepreview.png" />

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .header.navbar {
            background: linear-gradient(90deg, #ef2a2a 0%, #c91f1f 100%);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 10px 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .header.sticky {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(239, 42, 42, 0.95);
            backdrop-filter: blur(10px);
            animation: slideDown 0.35s ease-out;
        }

        @@keyframes slideDown {
            from {
                transform: translateY(-100%);
            }

            to {
                transform: translateY(0);
            }
        }

        /* Search Box */
        .search-container {
            position: relative;
            max-width: 500px;
            margin: 0 auto;
        }

        .search-input {
            border-radius: 50px !important;
            border: none;
            padding-left: 20px;
            padding-right: 50px;
            height: 45px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }

            .search-input:focus {
                box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
                outline: none;
            }

        .search-btn {
            position: absolute;
            right: 5px;
            top: 5px;
            height: 35px;
            width: 35px;
            border-radius: 50%;
            background-color: #ef2a2a;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }

            .search-btn:hover {
                background-color: #c91f1f;
                transform: scale(1.1);
                color: white;
            }

        /* Actions */
        .nav-action-btn {
            color: rgba(255,255,255, 0.9) !important;
            font-weight: 500;
            transition: all 0.2s ease;
            padding: 8px 12px;
            border-radius: 8px;
        }

            .nav-action-btn:hover {
                background-color: rgba(255,255,255, 0.15);
                color: white !important;
                transform: translateY(-2px);
            }

            .nav-action-btn i {
                font-size: 1.2rem;
            }

        /* Dropdown */
        .dropdown-menu {
            border: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            border-radius: 12px;
            margin-top: 10px !important;
        }
        /* Đảm bảo dropdown không bị sát lề phải quá */
        .dropdown-menu-end {
            right: 0 !important; /* Căn lề phải */
            left: auto !important; /* Bỏ căn lề trái */
            margin-right: 10px; /* Cách mép phải một chút cho đẹp */
        }

        .dropdown-item {
            padding: 10px 20px;
        }

            .dropdown-item:hover {
                background-color: #f8f9fa;
                color: #ef2a2a;
            }

        .logo-img {
            transition: transform 0.3s;
        }

            .logo-img:hover {
                transform: scale(1.05);
            }
    </style>
</head>
<body>
    <nav id="mainHeader" class="header navbar navbar-expand-lg">
        <div class="header_top container-fluid">
            <div class="row align-items-center w-100 mx-0">

                <div class="col-lg-2 col-md-3 d-flex justify-content-center align-items-center">
                    <a href="@Url.Action("Index","Home")">
                        <img src="~/Images/Logo/logodarkthestorepreview.png" class="logo-img" width="110" alt="Logo" />
                    </a>
                </div>

                <div class="col-lg-5 col-md-5 my-2 my-md-0">
                    <form class="search-container" method="get" action="@Url.Action("Search_name","Product")">
                        <input class="form-control search-input" type="text" name="name" placeholder="Bạn muốn tìm gì hôm nay?..." />
                        <button class="search-btn" type="submit" name="submitSearch">
                            <i class="bi bi-search"></i>
                        </button>
                    </form>
                </div>

                <div class="col-lg-5 col-md-4 d-flex justify-content-end align-items-center gap-2 pe-4">

                    <div class="dropdown d-none d-xl-block">
                        <a class="nav-action-btn d-flex align-items-center gap-2 text-decoration-none dropdown-toggle"
                           href="#" role="button" id="dropdownLocation"
                           data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-geo-alt-fill"></i>
                            <span class="diachi_ht small">Chọn địa chỉ</span>
                        </a>
                        <ul class="dropdown-menu animate__animated animate__fadeIn" aria-labelledby="dropdownLocation">
                            <li><h6 class="dropdown-header text-muted">Khu vực</h6></li>
                            <li class="dropdown-item item_diachi pointer"><i class="bi bi-geo-alt me-2"></i>Hà Nội</li>
                            <li class="dropdown-item item_diachi pointer"><i class="bi bi-geo-alt me-2"></i>TP. Hồ Chí Minh</li>
                            <li class="dropdown-item item_diachi pointer"><i class="bi bi-geo-alt me-2"></i>Đà Nẵng</li>
                            <li class="dropdown-item item_diachi pointer"><i class="bi bi-geo-alt me-2"></i>Cần Thơ</li>
                        </ul>
                    </div>

                    <a href="https://zalo.me/0333893870" class="nav-action-btn text-decoration-none d-flex align-items-center gap-2">
                        <i class="bi bi-telephone-fill"></i>
                        <span class="d-none d-xl-block">Liên hệ</span>
                    </a>

                    <a href="@Url.Action("Index","Cart")" class="nav-action-btn text-decoration-none d-flex align-items-center gap-2 position-relative">
                        <i class="bi bi-cart-fill"></i>
                        <span class="d-none d-xl-block">Giỏ hàng</span>
                    </a>

                    <div class="ms-2">
                        @{
                            if (Session["username"] == null)
                            {
                                <a href="@Url.Action("Index","Login")" class="btn btn-outline-light rounded-pill px-4 btn-sm fw-bold">
                                    Đăng nhập
                                </a>
                            }
                            else
                            {
                                <div class="dropdown">
                                    <button class="btn nav-action-btn dropdown-toggle d-flex align-items-center border-0 bg-transparent" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                                        <img src="https://ui-avatars.com/api/?name=@Session["username"]&background=random" class="rounded-circle me-2" width="30" height="30" alt="Avatar">
                                        <span class="fw-bold">@Session["username"]</span>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end animate__animated animate__fadeIn" aria-labelledby="dropdownMenuButton">
                                        <li><a class="dropdown-item" href="@Url.Action("Khachhang", "Profile")"><i class="bi bi-person-gear me-2"></i>Quản lý tài khoản</a></li>
                                        <li><a class="dropdown-item" href="@Url.Action("Index","DonHang")"><i class="bi bi-box-seam me-2"></i>Đơn hàng của tôi</a></li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li><a class="dropdown-item text-danger" href="@Url.Action("Logout","Login")"><i class="bi bi-box-arrow-right me-2"></i>Đăng xuất</a></li>
                                    </ul>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <!-- Header Bottom -->
    <div class="header-bottom bg-light">
        <div class="container-fluid">
            <ul class="nav align-items-center justify-content-around w-100 ">
                <!-- Dropdown danh mục -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle fw-bold text-black fs-5" href="@Url.Action("Index","Home")" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
                        <i class="bi bi-list"></i>
                        Tất cả danh mục
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">

                        <!-- Laptop theo hãng -->
                        <li><h6 class="dropdown-header text-black">Laptop theo hãng</h6></li>

                        <!-- Dell -->
                        <li class="dropdown-submenu">
                            <a class="dropdown-item dropdown-toggle" href="#">Dell</a>
                            <ul class="dropdown-menu" style="margin:0px;">
                                <li><a class="dropdown-item" href="#">Dell Inspiron</a></li>
                                <li><a class="dropdown-item" href="#">Dell Vostro</a></li>
                                <li><a class="dropdown-item" href="#">Dell Latitude</a></li>
                                <li><a class="dropdown-item" href="#">Dell XPS</a></li>
                                <li><a class="dropdown-item" href="#">Dell Alienware (Gaming)</a></li>
                                <li><a class="dropdown-item" href="#">Dell G-Series (Gaming)</a></li>
                            </ul>
                        </li>

                        <!-- HP -->
                        <li class="dropdown-submenu">
                            <a class="dropdown-item dropdown-toggle" href="#">HP</a>
                            <ul class="dropdown-menu " style="margin:0px" ;>
                                <li><a class="dropdown-item" href="#">HP Pavilion</a></li>
                                <li><a class="dropdown-item" href="#">HP Envy</a></li>
                                <li><a class="dropdown-item" href="#">HP Spectre</a></li>
                                <li><a class="dropdown-item" href="#">HP EliteBook</a></li>
                                <li><a class="dropdown-item" href="#">HP ProBook</a></li>
                                <li><a class="dropdown-item" href="#">HP Omen (Gaming)</a></li>
                            </ul>
                        </li>

                        <!-- Lenovo -->
                        <li class="dropdown-submenu">
                            <a class="dropdown-item dropdown-toggle" href="#">Lenovo</a>
                            <ul class="dropdown-menu" style="margin:0px" ;>
                                <li><a class="dropdown-item" href="#">Lenovo IdeaPad</a></li>
                                <li><a class="dropdown-item" href="#">Lenovo ThinkPad</a></li>
                                <li><a class="dropdown-item" href="#">Lenovo Yoga</a></li>
                                <li><a class="dropdown-item" href="#">Lenovo Legion (Gaming)</a></li>
                            </ul>
                        </li>

                        <!-- Asus -->
                        <li class="dropdown-submenu">
                            <a class="dropdown-item dropdown-toggle" href="#">Asus</a>
                            <ul class="dropdown-menu" style="margin:0px" ;>
                                <li><a class="dropdown-item" href="#">Asus VivoBook</a></li>
                                <li><a class="dropdown-item" href="#">Asus ZenBook</a></li>
                                <li><a class="dropdown-item" href="#">Asus ExpertBook</a></li>
                                <li><a class="dropdown-item" href="#">Asus TUF Gaming</a></li>
                                <li><a class="dropdown-item" href="#">Asus ROG (Republic of Gamers)</a></li>
                            </ul>
                        </li>

                        <!-- Acer -->
                        <li class="dropdown-submenu">
                            <a class="dropdown-item dropdown-toggle" href="#">Acer</a>
                            <ul class="dropdown-menu" style="margin:0px" ;>
                                <li><a class="dropdown-item" href="#">Acer Aspire</a></li>
                                <li><a class="dropdown-item" href="#">Acer Swift</a></li>
                                <li><a class="dropdown-item" href="#">Acer Spin</a></li>
                                <li><a class="dropdown-item" href="#">Acer Nitro (Gaming)</a></li>
                                <li><a class="dropdown-item" href="#">Acer Predator (Gaming)</a></li>
                            </ul>
                        </li>

                        <!-- Apple -->
                        <li class="dropdown-submenu">
                            <a class="dropdown-item dropdown-toggle" href="#">Apple</a>
                            <ul class="dropdown-menu" style="margin:0px" ;>
                                <li><a class="dropdown-item" href="#">MacBook Air M1/M2</a></li>
                                <li><a class="dropdown-item" href="#">MacBook Pro 13"</a></li>
                                <li><a class="dropdown-item" href="#">MacBook Pro 14"</a></li>
                                <li><a class="dropdown-item" href="#">MacBook Pro 16"</a></li>
                            </ul>
                        </li>

                        <!-- MSI -->
                        <li class="dropdown-submenu">
                            <a class="dropdown-item dropdown-toggle" href="#">MSI</a>
                            <ul class="dropdown-menu" style="margin:0px" ;>
                                <li><a class="dropdown-item" href="#">MSI Modern</a></li>
                                <li><a class="dropdown-item" href="#">MSI Prestige</a></li>
                                <li><a class="dropdown-item" href="#">MSI Creator</a></li>
                                <li><a class="dropdown-item" href="#">MSI Gaming GF/GL/GP</a></li>
                                <li><a class="dropdown-item" href="#">MSI Stealth / Raider</a></li>
                                <li><a class="dropdown-item" href="#">MSI Titan (Cao cấp)</a></li>
                            </ul>
                        </li>
                        <li><hr class="dropdown-divider"></li>

                        <!-- Laptop theo nhu cầu -->
                        <li><h6 class="dropdown-header text-black ">Laptop theo nhu cầu</h6></li>
                        <li><a class="dropdown-item" href="#">Laptop văn phòng - học tập</a></li>
                        <li><a class="dropdown-item" href="#">Laptop gaming</a></li>
                        <li><a class="dropdown-item" href="#">Laptop đồ họa - kỹ thuật</a></li>
                        <li><a class="dropdown-item" href="#">Laptop mỏng nhẹ - cao cấp</a></li>
                        <li><a class="dropdown-item" href="#">Laptop cảm ứng - 2 trong 1</a></li>

                        <li><hr class="dropdown-divider"></li>
                    </ul>
                </li>


                <!-- Chính sách -->
                <li class="nav-item fs-5"><a class="nav-link text-black  fw-bold" href="@Url.Action("Index","Product")">Sản phẩm </a></li>
                <li class="nav-item fs-5"><span class="nav-link text-black">100% chính hãng</span></li>
                <li class="nav-item fs-5"><span class="nav-link text-black">Giá ưu đãi nhất</span></li>
                <li class="nav-item fs-5"><span class="nav-link text-black">Miễn phí giao hàng</span></li>
            </ul>
        </div>
    </div>

    <div class="container body-content">
        @RenderBody()
        <hr />
        <footer class="footer">
            <div class="container">
                <div class="row">
                    <!-- Cột 1 -->
                    <div class="col-md-3">
                        <h5>Tổng đài hỗ trợ miễn phí</h5>
                        <p>Mua hàng - bảo hành <a href="#">1800.2097</a> (7h30 - 22h00)</p>
                        <p>Khiếu nại <a href="#">1800.2063</a> (8h00 - 21h30)</p>

                        <h5>Phương thức thanh toán</h5>
                        <div class="pay-methods">
                            <a href="#"><img src="~/Images/Footer/mb.png" alt="Mb Bank"></a>
                            <a href="#"><img src="~/Images/Footer/vnpay.png" alt="VNPay"></a>
                            <a href="#"><img src="~/Images/Footer/logo-momo.jpg" alt="Momo"></a>
                            <a href="#"><img src="~/Images/Footer/zalopay.png" alt="ZaloPay"></a>
                        </div>

                        <h5>Đăng ký nhận tin khuyến mãi</h5>
                        <form class="newsletter">
                            <small class="text-danger">Nhận ngay voucher 10% (chỉ áp dụng khách hàng mới)</small>
                            <input type="email" class="form-control" placeholder="Nhập email của bạn">
                            <input type="text" class="form-control" placeholder="Nhập số điện thoại của bạn">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" checked>
                                <label class="form-check-label"> Tôi đồng ý với điều khoản của DarkTheStore</label>
                            </div>
                            <button type="submit" class="btn btn-primary w-100 mt-2">ĐĂNG KÝ NGAY</button>
                        </form>
                    </div>

                    <!-- Cột 2 -->
                    <div class="col-md-3">
                        <h5>Thông tin và chính sách</h5>
                        <ul>
                            <li><a href="#">Mua hàng và thanh toán Online</a></li>
                            <li><a href="#">Mua hàng trả góp Online</a></li>
                            <li><a href="#">Mua hàng trả góp bằng thẻ tín dụng</a></li>
                            <li><a href="#">Chính sách giao hàng</a></li>
                            <li><a href="#">Chính sách đổi trả</a></li>
                            <li><a href="#">Tra điểm TMember</a></li>
                            <li><a href="#">Xem ưu đãi TMember</a></li>
                            <li><a href="#">Tra thông tin bảo hành</a></li>
                            <li><a href="#">Tra cứu hoá đơn điện tử</a></li>
                            <li><a href="#">Trung tâm bảo hành chính hãng</a></li>
                            <li><a href="#">Quy định về sao lưu dữ liệu</a></li>
                            <li><a href="#">Chính sách Apple</a></li>
                            <li><a href="#">VAT Refund</a></li>
                        </ul>
                    </div>

                    <!-- Cột 3 -->
                    <div class="col-md-3">
                        <h5>Dịch vụ và thông tin khác</h5>
                        <ul>
                            <li><a href="#">Khách hàng doanh nghiệp (B2B)</a></li>
                            <li><a href="#">Ưu đãi thanh toán</a></li>
                            <li><a href="#">Quy chế hoạt động</a></li>
                            <li><a href="#">Chính sách bảo mật</a></li>
                            <li><a href="#">Chính sách bảo hành</a></li>
                            <li><a href="#">Liên hệ hợp tác</a></li>
                            <li><a href="#">Tuyển dụng</a></li>
                            <li><a href="#">Dịch vụ bảo hành mở rộng</a></li>
                        </ul>
                        <h5>Mua sắm dễ dàng - Ưu đãi ngập tràn</h5>
                        <div class="apps" style="display: flex;">
                            <a href="#"><img style="width: 150px; height: auto;" src="~/Images/Footer/gg.png" alt="Google Play"></a>
                            <a href="#"><img style="width: 150px; height: auto;" src="~/Images/Footer/as.png" alt="App Store"></a>
                        </div>
                    </div>

                    <!-- Cột 4 -->
                    <div class="col-md-3">
                        <h5>Kết nối với DarkTheStore</h5>
                        <div class="socials">
                            <a href="#"><img src="~/Images/Footer/yt.png" alt="YouTube"></a>
                            <a href="#"><img src="~/Images/Footer/fb.png" alt="Facebook"></a>
                            <a href="#"><img src="~/Images/Footer/tiktok.png" alt="TikTok"></a>
                            <a href="#"><img src="~/Images/Footer/haui.png" alt="Haui"></a>
                        </div>
                    </div>
                </div>

                <div class="footer-bottom">
                    T
                    <p>© 2025 Công ty TNHH Nhóm 12</p>
                    <p>Địa chỉ: 298 Phố Nhổn | Điện thoại: 028.7148.9626</p>
                </div>
            </div>
        </footer>
    </div>


    <!-- Nút tư vấn -->
    <div id="chatbotBtn">
        <button id="chatbotBtnClose" class="chatbot-btn-close">X</button>
        <img src="~/Images/Logo/logodarkthestorepreview.png" alt="Bot">
        <span>Tư vấn</span>
    </div>

    <!-- Khung Chat -->
    <div id="chatbotBox">
        <div id="chatHeader">
            <span>Chatbot Tư vấn</span>
            <button id="chatbotClose" class="btn btn-sm btn-light text-primary fw-bold">X</button>
        </div>
        <div id="chatContent">
            <p><b>DarkTheStore:</b> Xin chào, tôi có thể giúp gì cho bạn?</p>
        </div>
        <div id="chatInputBox">
            <input type="text" id="chatInput" class="form-control" placeholder="Nhập tin nhắn...">
            <button id="sendBtn" class="btn btn-primary">Gửi</button>
        </div>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
    <script src="~/Scripts/new_script/home_layout.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function () {
            // Sticky Header
            var header = $('.header.navbar'); // Selector class thay vì ID cho an toàn
            if (header.length) {
                var stickyOffset = header.offset().top;
                $(window).scroll(function () {
                    if ($(window).scrollTop() > stickyOffset) {
                        header.addClass('sticky');
                    } else {
                        header.removeClass('sticky');
                    }
                });
            }

            // Cập nhật text địa chỉ
            $('.item_diachi').click(function (e) {
                e.preventDefault();
                var selectedText = $(this).text();
                $('.diachi_ht').text(selectedText);
            });
        });
    </script>
</body>
</html>
